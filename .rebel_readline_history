1572578249940:(require 'mecca.music)
1572578260178:(in-ns 'mecca.music)
1572578278687:@(subscribe [:audio-context])
1572588058735:(require 'goog.object)
1572588102792:(def obj #js {:foo #js {:bar 2}})
1572588113633:(goog.object/get obj "foo")
1572588124780:(goog.object/getValueByKeys obj "foo" "bar")
1572588536683:(require 'mecca.music)
1572588543030:(in-ns 'mecca.music)
1572588564090:@(subscribe [:file-upload])
1572590438789:(def mymid @(subscribe [:file-upload]))
1572590443051:mymid
1572591100636:(let [reader (js/FileReader.)\n      file mymid]\n  (.readAsArrayBuffer reader file))
1572591165960:(let [reader (js/FileReader.)\n      file mymid]\n  (set! (.-onload reader) (-> reader .-result))\n  (.readAsArrayBuffer reader file))
1572591228955:(.readAsArrayBuffer mymid)
1572593376634:@(subscribe [:file-upload])
1572594035128:(require 'goog.crypt)
1572594126533:(goog.crypt/byteArrayToHex @(subscribe [:file-upload]))
1573625137923:(defn img->data [img] (let [canvas (.createElement js/document "canvas") ctx (.getContext canvas "2d") width (.-width img) height (.-height img)] (set! (.-width canvas) width) (set! (.-height canvas) height) (.drawImage ctx img 0 0) (.getImageData ctx 0 0 width height)))
1573625281083:(require 'mecca.view)
1573625292368:(in-ns 'mecca.view)
1573625302556:@(subscribe [:file-upload])
1573625358147:(img->data @(subscribe [:file-upload]))
1573625375164:(defn img->data [img] (let [canvas (.createElement js/document "canvas") ctx (.getContext canvas "2d") width (.-width img) height (.-height img)] (set! (.-width canvas) width) (set! (.-height canvas) height) (.drawImage ctx img 0 0) (.getImageData ctx 0 0 width height)))
1573625379452:(img->data @(subscribe [:file-upload]))
1573691170245:(require 'mecca.view)
1573691175627:(in-ns 'mecca.view)
1573691278665:(.getElementById js/document "myimg")
1573691324309:(.-width (.getElementById js/document "myimg"))
1573694070314:(make-image @(subscribe [:file-upload]) #(img->data %))
1573697995075:(require 'mecca.view)
1573697998930:(in-ns 'mecca.view)
1573698009629:@(subscribe [:img])
1573698129292:(.-width @(subscribe [:img]))
